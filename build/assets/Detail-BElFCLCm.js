import{o as A,n as g,r,j as e,C as v}from"./index-Cjwx5h4X.js";import{C as y,a as E,b as d,A as m}from"./constant-CYzBiGwF.js";import{C as h,a as n}from"./CRow-DBO4UyjQ.js";import{C as N}from"./CCardHeader-BnaznyAs.js";import{a as x}from"./index.esm-DRrJMXd2.js";const D=()=>{const{id:a}=A(),i=g(),[s,u]=r.useState(null),[p,o]=r.useState(!1),[c,j]=r.useState(""),l=localStorage.getItem("generateTokken");r.useEffect(()=>{(async()=>{o(!0);try{const t=await d.get(`${m}/Admin/${a}`,{headers:{Authorization:`Bearer ${l}`}});u(t.data)}catch(t){j(t.message)}finally{o(!1)}})()},[a]);const C=async()=>{if(window.confirm("Voulez-vous vraiment supprimer cet administrateur?"))try{await d.delete(`${m}/Admin/${a}`,{headers:{Authorization:`Bearer ${l}`}}),alert("Administrateur supprimé avec succès"),i("/admin/liste")}catch{alert("Erreur lors de la suppression de l'administrateur")}};return e.jsx(h,{children:e.jsx(n,{xs:12,children:e.jsxs(y,{className:"mb-4",children:[e.jsx(N,{className:"text-center",children:e.jsx("strong",{children:"DÉTAIL DE L'ADMINISTRATEUR"})}),e.jsx(E,{children:p?e.jsx(v,{}):c?e.jsx("p",{style:{color:"red"},children:c}):s?e.jsxs("div",{children:[e.jsxs("h4",{children:["Nom : ",s.last_name]}),e.jsxs("p",{children:["Prénom : ",s.first_name]}),e.jsxs("p",{children:["Email : ",s.email]}),e.jsxs(h,{children:[e.jsx(n,{md:6,children:e.jsx("div",{className:"text-center mt-4",children:e.jsx(x,{color:"primary",onClick:()=>i("/admin/liste"),children:"Retour vers la liste"})})}),e.jsx(n,{md:6,children:e.jsx("div",{className:"text-center mt-4",children:e.jsx(x,{color:"danger",onClick:C,children:"Supprimer"})})})]})]}):e.jsx("p",{children:"Aucune donnée disponible"})})]})})})};export{D as default};
