import{n as E,r as a,j as e,C as I}from"./index-Cjwx5h4X.js";import{b as L,c as l,a as N}from"./index.esm-DRrJMXd2.js";import{C as A,a as R,b as k,A as F}from"./constant-CYzBiGwF.js";import{C as v,a as n}from"./CRow-DBO4UyjQ.js";import{C as P}from"./CForm-DIBcrnez.js";import{C as r,a as t}from"./CInputGroupText-BAr6oxw4.js";import{c as b,a as _}from"./cil-user-Dlmw-Gem.js";import{C as o}from"./CFormInput-D_S-EnzH.js";const $=()=>{const y=E(),[i,c]=a.useState(""),[m,d]=a.useState(""),[x,p]=a.useState(""),[u,h]=a.useState(""),[j,C]=a.useState(!1),[f,g]=a.useState(""),S=async s=>{s.preventDefault(),C(!0),g("");try{(await k.post(`${F}/Admin`,{first_name:i,last_name:m,email:x,password:u})).status===201&&(alert("Administrateur créé avec succès !"),c(""),d(""),p(""),h(""))}catch{g("Erreur lors de la création du compte!")}finally{C(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(L,{children:e.jsx(v,{className:"justify-content-center",children:e.jsx(n,{md:9,lg:7,xl:6,children:e.jsx(A,{className:"mx-4",children:e.jsx(R,{className:"p-4",children:e.jsxs(P,{onSubmit:S,children:[e.jsx("h1",{children:"Inscription"}),e.jsx("p",{className:"text-body-secondary",children:"Création de compte"}),e.jsxs(r,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(l,{icon:b})}),e.jsx(o,{placeholder:"Nom",autoComplete:"nom",value:m,onChange:s=>d(s.target.value)})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(l,{icon:b})}),e.jsx(o,{placeholder:"Prénom",autoComplete:"prenom",value:i,onChange:s=>c(s.target.value)})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(t,{children:"@"}),e.jsx(o,{placeholder:"E-mail",autoComplete:"e-mail",value:x,onChange:s=>p(s.target.value)})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(l,{icon:_})}),e.jsx(o,{type:"password",placeholder:"Mot de passe",autoComplete:"new-password",value:u,onChange:s=>h(s.target.value)})]}),f&&e.jsx("p",{style:{color:"red"},children:f}),e.jsxs(v,{children:[e.jsx(n,{xs:6,children:e.jsx("div",{className:"d-grid",children:e.jsx(N,{color:"primary",type:"submit",disabled:j,children:j?e.jsx(I,{size:"sm"}):"Valider"})})}),e.jsx(n,{xs:6,children:e.jsx("div",{className:"d-grid",children:e.jsx(N,{color:"success",className:"px-0",onClick:()=>y("/login"),children:"S'authentifier"})})})]})]})})})})})})})};export{$ as default};
