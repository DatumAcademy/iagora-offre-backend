import{r,_ as b,R as S,b as L,c as I,P as h,n as R,j as e,C as E}from"./index-Cjwx5h4X.js";import{b as k,c as x,a as A}from"./index.esm-DRrJMXd2.js";import{C as u,a as C,b as G,A as P}from"./constant-CYzBiGwF.js";import{C as j,a as f}from"./CRow-DBO4UyjQ.js";import{C as T}from"./CForm-DIBcrnez.js";import{C as g,a as y}from"./CInputGroupText-BAr6oxw4.js";import{c as _,a as F}from"./cil-user-Dlmw-Gem.js";import{C as N}from"./CFormInput-D_S-EnzH.js";var l=r.forwardRef(function(s,n){var t=s.children,i=s.className,o=b(s,["children","className"]);return S.createElement("div",L({className:I("card-group",i)},o,{ref:n}),t)});l.propTypes={children:h.node,className:h.string};l.displayName="CCardGroup";const U=""+new URL("logo-DHFSpvJs.png",import.meta.url).href,K=()=>{const[s,n]=r.useState(""),[t,i]=r.useState(""),[o,d]=r.useState(!1),[m,p]=r.useState(""),v=R(),w=async a=>{a.preventDefault(),d(!0),p("");try{const c=await G.post(`${P}/Admin/login`,{email:s,password:t});c.status===200&&(localStorage.setItem("generateTokken",c.data.token),v("/offre/liste"),window.location.reload())}catch{p("Authentification échoué!")}finally{d(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(k,{children:e.jsx(j,{className:"justify-content-center",children:e.jsx(f,{md:8,children:e.jsxs(l,{children:[e.jsx(u,{className:"p-4",children:e.jsx(C,{children:e.jsxs(T,{onSubmit:w,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"S'authentifier avec votre compte Administrateur"}),e.jsxs(g,{className:"mb-3",children:[e.jsx(y,{children:e.jsx(x,{icon:_})}),e.jsx(N,{placeholder:"E-mail",autoComplete:"e-mail",value:s,onChange:a=>n(a.target.value)})]}),e.jsxs(g,{className:"mb-4",children:[e.jsx(y,{children:e.jsx(x,{icon:F})}),e.jsx(N,{type:"password",placeholder:"Mot de passe",autoComplete:"current-password",value:t,onChange:a=>i(a.target.value)})]}),m&&e.jsx("p",{style:{color:"red"},children:m}),e.jsx(j,{children:e.jsx(f,{xs:6,children:e.jsx(A,{color:"primary",className:"px-4",type:"submit",disabled:o,children:o?e.jsx(E,{size:"sm"}):"Se connecter"})})})]})})}),e.jsx(u,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(C,{className:"text-center",children:e.jsx("img",{src:U,alt:"Logo",style:{width:"100%",height:"100%"}})})})]})})})})})};export{K as default};
