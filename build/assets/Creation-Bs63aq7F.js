import{n as A,r as a,j as s,C as E}from"./index-Cjwx5h4X.js";import{b as L,c as n,a as v}from"./index.esm-DRrJMXd2.js";import{C as I,a as k,b as F,A as P}from"./constant-CYzBiGwF.js";import{C as b,a as i}from"./CRow-DBO4UyjQ.js";import{C as R}from"./CForm-DIBcrnez.js";import{C as r,a as t}from"./CInputGroupText-BAr6oxw4.js";import{c as y,a as _}from"./cil-user-Dlmw-Gem.js";import{C as o}from"./CFormInput-D_S-EnzH.js";const $=()=>{const l=A(),[c,m]=a.useState(""),[d,u]=a.useState(""),[x,p]=a.useState(""),[h,j]=a.useState(""),[C,f]=a.useState(!1),[N,g]=a.useState(""),S=async e=>{e.preventDefault(),f(!0),g("");try{(await F.post(`${P}/Admin`,{first_name:c,last_name:d,email:x,password:h})).status===201&&(alert("Administrateur créé avec succès !"),m(""),u(""),p(""),j(""),l("/admin/liste"))}catch{g("Erreur lors de la création de l'administrateur!")}finally{f(!1)}};return s.jsx(L,{children:s.jsx(b,{className:"justify-content-center",children:s.jsx(i,{md:9,lg:7,xl:6,children:s.jsx(I,{className:"mx-4",children:s.jsx(k,{className:"p-4",children:s.jsxs(R,{onSubmit:S,children:[s.jsx("h1",{children:"Créer un Administrateur"}),s.jsx("p",{className:"text-body-secondary",children:"Création d'un nouveau compte administrateur"}),s.jsxs(r,{className:"mb-3",children:[s.jsx(t,{children:s.jsx(n,{icon:y})}),s.jsx(o,{placeholder:"Nom",autoComplete:"nom",value:d,onChange:e=>u(e.target.value)})]}),s.jsxs(r,{className:"mb-3",children:[s.jsx(t,{children:s.jsx(n,{icon:y})}),s.jsx(o,{placeholder:"Prénom",autoComplete:"prenom",value:c,onChange:e=>m(e.target.value)})]}),s.jsxs(r,{className:"mb-3",children:[s.jsx(t,{children:"@"}),s.jsx(o,{placeholder:"E-mail",autoComplete:"e-mail",value:x,onChange:e=>p(e.target.value)})]}),s.jsxs(r,{className:"mb-3",children:[s.jsx(t,{children:s.jsx(n,{icon:_})}),s.jsx(o,{type:"password",placeholder:"Mot de passe",autoComplete:"new-password",value:h,onChange:e=>j(e.target.value)})]}),N&&s.jsx("p",{style:{color:"red"},children:N}),s.jsxs(b,{children:[s.jsx(i,{xs:6,children:s.jsx("div",{className:"d-grid",children:s.jsx(v,{color:"primary",type:"submit",disabled:C,children:C?s.jsx(E,{size:"sm"}):"Valider"})})}),s.jsx(i,{xs:6,children:s.jsx("div",{className:"d-grid",children:s.jsx(v,{color:"success",className:"px-0",onClick:()=>l("/admin/liste"),children:"Voir Liste Admins"})})})]})]})})})})})})};export{$ as default};
